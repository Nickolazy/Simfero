import{d as p,b as y,u as S,h as u,o as s,c as o,k as h,a as e,t as _,j as C,i as x,e as B,w as D,v as N,F as k,r as I,g as $}from"./index-DQMER0fw.js";import{_ as V,a as L}from"./icon-clear-Cb3bHSel.js";import{_ as P}from"./icon-cost-store-BtsUbfWX.js";const E="data:image/svg+xml,%3csvg%20width='39'%20height='39'%20viewBox='0%200%2039%2039'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='17.875'%20cy='17.875'%20r='9.75'%20stroke='%23292E3D'%20stroke-width='2'/%3e%3cpath%20d='M29.5%2029.5L24.625%2024.625'%20stroke='%23292E3D'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/svg%3e",M={key:0,class:"basket"},O={key:0,class:"basket-rect",src:V},T={class:"basket-side-img"},j=["src"],F={class:"basket-side-text"},q={class:"title-search"},H={class:"basket-side-composition"},Q={class:"icon-cost"},R=e("img",{src:P,alt:"Price"},null,-1),U={key:1},W=e("p",null,"Товар не найден",-1),z=[W],b=p({__name:"SearchItem",props:{menuItem:{},firstItem:{}},setup(m){const n=m;y();const a=S(),r=u(()=>{if(n.menuItem){const t=n.menuItem.composition.split(",").map(d=>d.trim());return t.slice(0,4).join(", ")+(t.length>4?"...":"")}return""}),l=()=>{n.menuItem&&a.push({name:"product-page",params:{productName:n.menuItem.name},query:{productId:n.menuItem.id.toString()}})};return(t,d)=>{var c;return t.menuItem?(s(),o("div",M,[t.menuItem.id!==((c=t.firstItem)==null?void 0:c.id)?(s(),o("img",O)):h("",!0),e("div",{onClick:l,class:"basket-side"},[e("div",T,[e("img",{class:"",src:t.menuItem.img,alt:"Menu Position Photo"},null,8,j)]),e("div",null,[e("div",F,[e("p",q,_(t.menuItem.name),1),e("p",H,_(r.value),1)]),e("div",Q,[R,C(" "+_(t.menuItem.cost),1)])])])])):(s(),o("div",U,z))}}}),A={class:"search-title"},G={class:"container side-container"},J={class:"side-title-flex"},K={class:"side-title"},X=e("img",{src:L,alt:"Store"},null,-1),Y=[X],Z=p({__name:"HeaderSearch",props:{nameOfSection:{}},emits:["close"],setup(m,{emit:n}){const a=m,r=n,l=()=>{r("close")};return(t,d)=>(s(),o("section",A,[e("div",G,[e("div",J,[e("div",K,[e("h1",null,_(a.nameOfSection),1)]),e("div",{class:"store-header-side-store"},[e("button",{onClick:l,class:"button-header-side-store"},Y)])])])]))}}),ee={class:"search-section"},te={class:"container container-search"},se={class:"search-button-input-flex"},oe=e("img",{src:E,alt:"Search"},null,-1),ne=[oe],ce={key:0,class:"search-results recommended-items item-search"},ie={key:1,class:"no-results"},ae=e("p",null," Ничего не найдено ",-1),re=[ae],le={key:2,class:"recommended-items"},de=e("p",null," Рекомендуем товары ",-1),me="Поиск",pe=p({__name:"Search",setup(m){const a=y().menu,r=S(),l=()=>{r.back()},t=x(""),d=u(()=>a.slice(0,3)),c=u(()=>a.filter(g=>g.name.toLowerCase().startsWith(t.value.toLowerCase()))),v=u(()=>c.value.length?c.value[0]:null),w=()=>{t.value?console.log("Поиск:",t.value):console.log("Введите что-нибудь для поиска.")};return(g,f)=>(s(),o("section",ee,[B(Z,{onClose:l,nameOfSection:me}),e("div",te,[e("div",se,[D(e("input",{"onUpdate:modelValue":f[0]||(f[0]=i=>t.value=i),type:"text",placeholder:"Поиск товаров...",class:"search-input"},null,512),[[N,t.value]]),e("button",{onClick:w,class:"search-button"},ne)]),t.value.length&&c.value.length?(s(),o("div",ce,[(s(!0),o(k,null,I(c.value,i=>(s(),$(b,{key:i.id,menuItem:i,firstItem:v.value},null,8,["menuItem","firstItem"]))),128))])):h("",!0),t.value.length&&!c.value.length?(s(),o("div",ie,re)):t.value.length?h("",!0):(s(),o("div",le,[de,(s(!0),o(k,null,I(d.value,i=>(s(),$(b,{key:i.id,menuItem:i,firstItem:v.value,class:"item-search"},null,8,["menuItem","firstItem"]))),128))]))])]))}});export{pe as default};
