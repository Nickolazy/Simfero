import{_ as f}from"./icon-cost-store-BtsUbfWX.js";import{_ as g}from"./back-DQPRzwjz.js";import{a as $,_ as S}from"./icon-clear-Cb3bHSel.js";import{d as k,b,o as i,c as l,a as t,t as a,h as p,f as e,k as h,p as C,q as B,e as I,F as x,r as y,u as P,g as F}from"./index-DQMER0fw.js";const N={class:"container side-container"},O={class:"side-title-flex"},V={class:"side-title"},D=t("img",{src:g,alt:"Back"},null,-1),M=[D],T=t("img",{src:$,alt:"Store"},null,-1),j=[T],q=k({__name:"HeaderStore",props:{nameOfSection:{}},emits:["close"],setup(m,{emit:o}){const n=b(),s=m,r=o,c=()=>{r("close")},_=()=>n.clearBasket();return(d,u)=>(i(),l("section",null,[t("div",N,[t("div",O,[t("div",V,[t("button",{onClick:c},M),t("h1",null,a(s.nameOfSection),1)]),t("div",{class:"store-header-side-store"},[t("button",{onClick:_,class:"button-header-side-clear"}," Очистить "),t("button",{onClick:c,class:"button-header-side-store"},j)])])])]))}}),A={key:0,class:"basket"},E={key:0,class:"basket-rect",src:S},H={class:"basket-side"},L={class:"basket-side-img"},R=["src"],w={class:"basket-side-text"},z={class:"basket-side-title"},G={class:"basket-side-composition"},J={class:"basket-side-information"},K={class:"basket-side-price"},Q=t("img",{src:f,alt:"Price"},null,-1),U={class:"basket-side-amount"},W=t("img",{src:C,alt:"Minus"},null,-1),X=[W],Y=t("img",{src:B,alt:"Plus"},null,-1),Z=[Y],tt=k({__name:"StoreItem",props:{menuItem:{}},setup(m){const o=m,n=b(),s=o.menuItem,r=p(()=>{const d=o.menuItem.composition.split(",").map(u=>u.trim());return d.slice(0,4).join(", ")+(d.length>2?"...":"")}),c=()=>{n.addToBasket({id:s.id,name:s.name,composition:s.composition,amount:1,price:s.price/s.amount,img:s.img})},_=()=>{n.removeFromBasket(s.id)};return(d,u)=>e(s).amount>0?(i(),l("div",A,[e(s).id!==e(n).basket[0].id?(i(),l("img",E)):h("",!0),t("div",H,[t("div",L,[t("img",{class:"",src:e(s).img,alt:"Menu Position Photo"},null,8,R)]),t("div",null,[t("div",w,[t("p",z,a(e(s).name),1),t("p",G,a(r.value),1)]),t("div",J,[t("div",K,[Q,t("p",null,a(e(s).price/e(s).amount),1)]),t("div",U,[t("button",{onClick:_,class:"menu-item-button menu-item-buttons"},X),t("span",null,a(e(s).amount),1),t("button",{onClick:c,class:"menu-item-button menu-item-buttons"},Z)])])])])])):h("",!0)}}),st={class:"container container-store"},et={class:"all-price-store"},ot={class:"all-price-store-cost"},nt=t("p",null," Всего: ",-1),it=t("img",{src:f,alt:"Price"},null,-1),ct=t("div",{class:"all-price-store-button-flex"},[t("button",{class:"all-price-store-button"}," Заказать "),t("p",null," Пригласить официанта ")],-1),at={key:0,class:"all-price-store-list"},lt="Мой заказ",ut=k({__name:"Store",setup(m){const o=b(),n=P(),s=()=>{n.back()},r=p(()=>o.basket[0]),c=o.parseBasketItems(),_=p(()=>o.calculateTotal());return(d,u)=>(i(),l("section",null,[I(q,{onClose:s,nameOfSection:lt}),t("div",st,[t("div",et,[t("div",ot,[nt,it,t("p",null,a(_.value)+" руб. ",1)]),ct]),r.value?(i(),l("div",at,[(i(!0),l(x,null,y(e(c),v=>(i(),F(tt,{key:v.id,menuItem:v},null,8,["menuItem"]))),128))])):h("",!0)])]))}});export{ut as default};
